<!DOCTYPE html>
<html dir="rtl" lang="ar">
<head>
  <meta charset="UTF-8">
  <title>ØªØ­Ø¯ÙŠØ« Ø¨ÙŠØ§Ù†Ø§Øª Ù…ÙˆØ¸ÙÙŠ Ù‚Ø³Ù… Ø§Ù„Ø£Ù…Ù† ÙˆØ§Ù„Ø³Ù„Ø§Ù…Ø© ÙˆØ§Ù„Ù…Ø±Ø§ÙÙ‚</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
  <style>
    * {
      box-sizing: border-box;
    }
    html, body {
      margin: 0;
      padding: 0;
      font-family: 'Cairo', sans-serif;
      background: linear-gradient(to bottom right, #e8f5e9, #ffffff);
    }
    body {
      padding: 10px;
    }
    .container {
      background-color: #ffffff;
      border-radius: 20px;
      padding: 20px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.1);
      max-width: 100%;
      width: 100%;
      max-width: 700px;
      margin: auto;
    }
    h2 {
      margin-bottom: 20px;
      color: #1b5e20;
      font-weight: 700;
      font-size: 20px;
    }
    form {
      text-align: right;
    }
    label {
      display: block;
      margin-bottom: 5px;
      color: #2e7d32;
      font-weight: 600;
      font-size: 16px;
    }
    input, select {
      display: block;
      margin-left: auto;
      margin-right: auto;

      width: 100%;
      padding: 12px;
      margin-bottom: 16px;
      border: 1px solid #ccc;
      border-radius: 10px;
      font-size: 14px;
      font-family: 'Cairo', sans-serif;
    
    input[readonly] {
      background-color: #f1f1f1;
      color: #666;
    }
    button {
  width: 48%;
  padding: 14px;
  margin-top: 10px;
  border: none;
  border-radius: 12px;
  font-size: 16px;
  font-weight: bold;
  font-family: 'Cairo', sans-serif;
  cursor: pointer;
  transition: all 0.3s ease;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
}
    button:hover {
  transform: translateY(-2px);
  opacity: 0.95;
}
    button:first-of-type {
  background: linear-gradient(to right, #2e7d32, #43a047);
  color: white;
}
    button:last-of-type {
  background: linear-gradient(to right, #9e9e9e, #bdbdbd);
  color: white;
}
    .toast {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background-color: #323232;
      color: white;
      padding: 12px 20px;
      border-radius: 6px;
      opacity: 0;
      transition: opacity 0.5s ease-in-out;
      z-index: 1000;
    }
    .toast.show {
      opacity: 1;
    }
    .welcome {
      position: fixed;
      top: 30px;
      right: 20px;
      background-color: #43a047;
      color: white;
      padding: 12px 20px;
      border-radius: 10px;
      font-size: 16px;
      font-weight: bold;
      opacity: 0;
      transition: opacity 0.5s ease-in-out;
      z-index: 1000;
    }
    .welcome.show {
      opacity: 1;
    }
    @media (max-width: 480px) {
      h2 {
        font-size: 18px;
      }
      label, input, select, button {
        font-size: 13px;
      }
      button {
        width: 100%;
        margin-top: 10px;
      }
      .button-group {
        display: flex;
        flex-direction: column;
        gap: 10px;
      }
    }
  </style>
</head>
<body>
  <header style="background-color:#1b5e20; color:white; text-align:center; padding:10px 0; border-radius: 12px; margin-bottom: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
    <h1 style="margin:0; font-size: 20px; display: flex; align-items: center; justify-content: center; gap: 10px;">
      <span>ØªØ­Ø¯ÙŠØ« Ø¨ÙŠØ§Ù†Ø§Øª Ù…ÙˆØ¸ÙÙŠ Ù‚Ø³Ù… Ø§Ù„Ø£Ù…Ù† ÙˆØ§Ù„Ø³Ù„Ø§Ù…Ø© ÙˆØ§Ù„Ù…Ø±Ø§ÙÙ‚</span>
      <span style="font-size: 22px;">ğŸ›¡ï¸</span>
    </h1>
  </header>

    
    <div id="step1">
      <input type="text" id="nationalId" placeholder="Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù… Ø§Ù„Ø³Ø¬Ù„ Ø§Ù„Ù…Ø¯Ù†ÙŠ">
      <div style="display: flex; justify-content: center; margin-top: 15px;">
  <button onclick="fetchData()" style="background: linear-gradient(to right, #66bb6a, #81c784); color: white; font-size: 18px; padding: 16px 24px; border-radius: 12px; font-weight: bold; box-shadow: 0 4px 10px rgba(0,0,0,0.1); border: none; cursor: pointer; display: flex; align-items: center; gap: 10px;">
    ğŸ” <span>Ø§Ø³ØªØ¹Ù„Ø§Ù…</span>
  </button>
</div>
    </div>
    <div id="formSection" style="display:none;">
      <form id="employeeForm">
        <label for="name">Ø§Ø³Ù… Ø§Ù„Ù…ÙˆØ¸Ù</label>
        <input type="text" id="name" readonly>

        <label for="id">Ø±Ù‚Ù… Ø§Ù„Ø³Ø¬Ù„</label>
        <input type="text" id="id" readonly>

        <label for="phone">Ø±Ù‚Ù… Ø§Ù„ØªÙˆØ§ØµÙ„</label>
        <input type="text" id="phone">

        <label for="grade">Ø§Ù„Ù…Ø±ØªØ¨Ø©/ Ø§Ù„Ù…Ø³ØªÙˆÙŠ</label>
        <input type="text" id="grade">

        <label for="sector">Ø§Ù„Ù‚Ø·Ø§Ø¹</label>
        <input type="text" id="sector">

        <label for="jobTitle">Ø§Ù„Ù…Ø³Ù…Ù‰ Ø§Ù„ÙˆØ¸ÙŠÙÙŠ Ø§Ù„Ø­Ø§Ù„ÙŠ</label>
<input type="text" id="jobTitle">

        <label for="department">Ø§Ù„Ù‚Ø³Ù…</label>
<select id="department" style="width: 100%; padding: 12px; margin-bottom: 18px; border: 1px solid #ccc; border-radius: 10px; font-size: 15px; font-family: 'Cairo', sans-serif;">
  <option value="">-- Ø§Ø®ØªØ± Ø§Ù„Ù‚Ø³Ù… --</option>
  <option value="Ø§Ù„Ø³Ù„Ø§Ù…Ø© Ø§Ù„Ù…Ø¯Ø±Ø³ÙŠØ©">Ø§Ù„Ø³Ù„Ø§Ù…Ø© Ø§Ù„Ù…Ø¯Ø±Ø³ÙŠØ©</option>
  <option value="Ø§Ù„Ø£Ø¬ÙˆØ±">Ø§Ù„Ø£Ø¬ÙˆØ±</option>
  <option value="Ø§Ù„Ø£Ù…Ù† Ø§Ù„Ù…Ø¯Ø±Ø³ÙŠ">Ø§Ù„Ø£Ù…Ù† Ø§Ù„Ù…Ø¯Ø±Ø³ÙŠ</option>
  <option value="Ø§Ù„Ø£Ø²Ù…Ø§Øª">Ø§Ù„Ø£Ø²Ù…Ø§Øª</option>
  <option value="Ø§Ù„Ù…Ø¨Ø§Ù†ÙŠ">Ø§Ù„Ù…Ø¨Ø§Ù†ÙŠ</option>
  <option value="Ø§Ù„Ù…Ø±Ø§Ù‚Ø¨ÙŠÙ†">Ø§Ù„Ù…Ø±Ø§Ù‚Ø¨ÙŠÙ†</option>
</select>

        <label for="qualification">Ø§Ù„Ù…Ø¤Ù‡Ù„ Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠ</label>
        <input type="text" id="qualification">

        <label for="major">Ø§Ù„ØªØ®ØµØµ</label>
        <input type="text" id="major">

        <label for="actualTitle">Ø§Ù„Ù…Ø³Ù…Ù‰ Ø§Ù„ÙˆØ¸ÙŠÙÙŠ Ø§Ù„ÙØ¹Ù„ÙŠ</label>
        <input type="text" id="actualTitle">

        <div class="button-group" style="display: flex; justify-content: center; gap: 20px; flex-wrap: wrap; margin-top: 20px;">
          <button type="button" onclick="submitData()">
  <span style="font-size: 20px; display: flex; align-items: center; justify-content: center; gap: 8px;">
    âœ… <span>ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</span>
  </span>
</button>
          <button type="button" onclick="goBack()">
  <span style="font-size: 20px; display: flex; align-items: center; justify-content: center; gap: 8px;">
    â†©ï¸ <span>Ø±Ø¬ÙˆØ¹</span>
  </span>
</button>
        </div>
      </form>
    </div>
    <p id="message"></p>
  </div>

  <div id="toast" class="toast"></div>
  <div id="welcomeMessage" class="welcome" style="margin: 0 auto 20px; background-color: #ffffff; border: 2px solid #c5e1a5; max-width: 700px; padding: 15px 20px; border-radius: 12px; font-size: 18px; font-weight: bold; text-align: center; display: none; color: #1b5e20; box-shadow: 0 2px 8px rgba(0,0,0,0.05);"></div>

  <script>
    const scriptURL = 'https://script.google.com/macros/s/AKfycbwbVZk8j5l4SeCD_dUlfZsZ4hdB32Isgb7beOM391Pjlbu0oYAFyW7anlaHWQncEEoChg/exec';

    function fetchData() {
      
      const nationalId = document.getElementById('nationalId').value.trim();
      if (!nationalId) return alert("ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø±Ù‚Ù… Ø§Ù„Ø³Ø¬Ù„ Ø§Ù„Ù…Ø¯Ù†ÙŠ");
      fetch(`${scriptURL}?id=${nationalId}`)
        .then(res => res.json())
        .then(data => {
          if (data.status === 'ok') {
            document.getElementById('step1').style.display = 'none';
            document.getElementById('formSection').style.display = 'block';
            document.getElementById('name').value = data.name;
            document.getElementById('id').value = data.id;
            document.getElementById('phone').value = data.phone;
            document.getElementById('grade').value = data.grade;
            document.getElementById('sector').value = data.sector;
            document.getElementById('jobTitle').value = data.jobTitle;
            document.getElementById('department').value = data.department;
            document.getElementById('qualification').value = data.qualification;
            document.getElementById('major').value = data.major;
document.getElementById('actualTitle').value = data.actualTitle;
            showWelcome(data.name);
          } else {
            showToast('Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø¨ÙŠØ§Ù†Ø§Øª.');
          }
        }).catch(() => {
          showToast('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø³ÙŠØ±ÙØ±.');
        });
    }

    function submitData() {
      const payload = {
        id: document.getElementById('id').value,
        phone: document.getElementById('phone').value,
        grade: document.getElementById('grade').value,
        sector: document.getElementById('sector').value,
        jobTitle: document.getElementById('jobTitle').value,
        department: document.getElementById('department').value,
        qualification: document.getElementById('qualification').value,
        major: document.getElementById('major').value,
        actualTitle: document.getElementById('actualTitle').value
      };
      fetch(scriptURL, {
        method: 'POST',
        body: JSON.stringify(payload)
      })
      .then(res => res.text())
      .then(msg => {
        showToast('âœ… ØªÙ… ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ù†Ø¬Ø§Ø­');
      }).catch(() => {
        showToast('âŒ ÙØ´Ù„ ÙÙŠ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª');
      });
    }

    function goBack() {
      document.getElementById('formSection').style.display = 'none';
      document.getElementById('step1').style.display = 'block';
      document.getElementById('nationalId').value = '';
    }

    function showToast(message) {
      const toast = document.getElementById('toast');
      toast.textContent = message;
      toast.classList.add('show');
      setTimeout(() => toast.classList.remove('show'), 3000);
    }

    function showWelcome(name) {
      const welcome = document.getElementById('welcomeMessage');
      welcome.textContent = `Ù…Ø±Ø­Ø¨Ù‹Ø§ Ø£Ù„Ù Ø¨Ù€ ${name}`;
      welcome.style.display = 'block';
      // ØªÙ… Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ø¥Ø®ÙØ§Ø¡ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù„Ù„ØªØ±Ø­ÙŠØ¨
    }
  </script>
</body>
</html>
